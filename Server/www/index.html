<!DOCTYPE html>
<html dir="ltr" lang="cs">
	<head>
		<meta charset="UTF-8" />
		<title>Konfigurace bomby</title>
		<script type="text/javascript" src="/bombuh.js"></script>
	</head>

	<body>
		<style type="text/css">
			.hidden {
				display: none;
			}

			.margin {
				margin: 5px;
			}

			input {
				margin-left: 5px;
			}

			fieldset {
				display: inline-block;
			}

			.incorrect {
				border-style: solid;
				border-color: red;
			}

			.text-red {
				color: red;
			}
		</style>
		<h1>Ovládací panel bomby</h1>
		<div id="loading">
			<h2>Načítání...</h2>
		</div>
		<div id="loaded" class="hidden">
			<button type="button" class="action-discover-modules hidden visible-if-IDLE">Spárovat periferie</button>
			<button type="button" class="action-exit-app hidden visible-if-IDLE visible-if-INGAME visible-if-SUMMARY">Vypnout server</button>
			<div id="container">
				<form id="configuration-form" class="hidden visible-if-IDLE margin" autocomplete="off">
					<fieldset>
						<legend>Předvolby</legend>
						<div>
							<label for="conf-bomb-time">Časový limit bomby</label>
							<input id="conf-bomb-time" name="bomb.timer" type="text" pattern="[0-9][0-9]?:[0-9][0-9]" value="05:00">
						</div>
						<div>
							<label for="conf-bomb-strikes">Kolikrát a dost?</label>
							<input id="conf-bomb-strikes" name="bomb.strikes" type="number" value="3">
						</div>
						<div>
							<label for="conf-bomb-serial">Sériové číslo</label>
							<input id="conf-bomb-serial" name="bomb.serial" type="text" value="" maxlength="6" placeholder="(náhodné)">
						</div>
					</fieldset>
					<div>
						<button type="button" class="action-autoconf">Automatická konfigurace</button>	
					</div>

					<div id="configuration-extra-container">

					</div>

					<button type="button" class="action-configure-bomb visible-if-IDLE">Použít konfiguraci</button>	
					<button type="button" class="action-start-game hidden">Start hry</button>
				</form>
				<div class="hidden visible-if-INGAME" id="countdown">
					<div>
						<h1><span id="timer-major"></span>:<span id="timer-minor"></span></h1>
					</div>
					<div>
						<h3>Serial: <span id="bomb-serial">...</span></h3>
						<h3>Strikes: <span id="strikes-xs" class="text-red">XXX</span></h3>
					</div>
					<div>
						<div>Ladicí funkce</div>
						<button type="button" class="action-debug-event" data-event="strike">Přidat strike</button>
						<button type="button" class="action-debug-event" data-event="explode">Detonovat</button>
						<button type="button" class="action-debug-event" data-event="defuse">Zneškodnit</button>
					</div>
					<div>
						<button type="button" class="action-stop-game">Ukončit hru</button>
					</div>
				</div>
				<div class="hidden visible-if-SUMMARY" id="summary-container">
					<div class="hidden" id="summary-content"><!-- hidden until data is loaded -->
						<div id="summary-exploded" class="hidden">
							<h1>EXPLODED</h1>
							<h4>Cause of Explosion: <span id="cause-of-explosion"></span></h2>
						</div>
						<div id="summary-defused" class="hidden">
							<h1>DEFUSED</h1>
						</div>
						<div>
							<h4>Time remaining: <span id="time-remaining"></span></h4>
						</div>
						<div>
							<button type="button" class="action-new-game">Nová hra</button>
						</div>
					</div>
				</div>
			</div>
		</div>
	</body>
</html>